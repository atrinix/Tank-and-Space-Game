package tankwars;

/**
 * This code is meant to load in the map and its components
 */

import tankwars.powerup.MoreDefense;
import tankwars.powerup.ExtraLife;
import tankwars.powerup.PowerUp;
import tankwars.powerup.SpeedBoost;
import tankwars.walls.BreakableWall;
import tankwars.walls.UnbreakableWall;
import tankwars.walls.Wall;

import java.awt.*;
import java.util.ArrayList;

public class TankGameMap {

    private ArrayList<Wall> blocks = new ArrayList<>();
    private ArrayList<PowerUp> powerUps = new ArrayList<>();

    /**
     * Game map made in Excel!
     * Fun fact: My little brother was really
     * excited about me building a tank game and
     * wanted to help, so I let him design the map
     */

    private final int[] new_map_array = {
            1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,  1,	1,	1,	1,
            1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,
            1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,
            1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,
            1,	1,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	2,	0,	0,	0,	1,	0,	0,	0,	0,	1,	0,	0,	0,	2,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	1,	1,
            1,	1,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	2,	0,	0,	0,	1,	0,	0,	0,	0,	1,	0,	0,	0,	2,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	1,	1,
            1,	1,	0,	0,	0,	0,	0,	2,	0,	0,	0,	0,	0,	0,	0,	0,	2,	0,	0,	0,	2,	0,	0,	0,	0,	2,	0,	0,	0,	2,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	2,	0,	0,	0,	0,	0,	1,	1,
            1,	1,	0,	0,	0,	0,	2,	0,	2,	0,	0,	0,	0,	0,	0,	0,	2,	0,	0,	0,	2,	0,	0,	0,	0,	2,	0,	0,	0,	2,	0,	0,	0,	0,	0,	0,	0,	0,	0,	2,	0,	2,	0,	0,	0,	0,	1,	1,
            1,	1,	0,	0,	0,	2,	0,	0,	0,	2,	0,	0,	0,	0,	0,	0,	2,	0,	0,	0,	2,	0,	0,	0,	0,	2,	0,	0,	0,	2,	0,	0,	0,	0,	0,	0,	0,	0,	2,	0,	0,	0,	2,	0,	0,	0,	1,	1,
            1,	1,	0,	0,	2,	0,	0,	0,	0,	0,	2,	0,	0,	0,	0,	0,	2,	0,	0,	0,	1,	0,	0,	0,	0,	1,	0,	0,	0,	2,	0,	0,	0,	0,	0,	0,	0,	2,	0,	0,	0,	0,	0,	2,	0,	0,	1,	1,
            1,	1,	0,	2,	0,	0,	0,	0,	0,	0,	0,	2,	0,	0,	0,	0,	2,	0,	0,	0,	1,	0,	0,	0,	0,	1,	0,	0,	0,	2,	0,	0,	0,	0,	0,	0,	2,	0,	0,	0,	0,	0,	0,	0,	2,	0,	1,	1,
            1,	1,	0,	2,	0,	0,	0,	2,	0,	0,	0,	2,	0,	0,	0,	0,	2,	1,	1,	1,	1,	2,	2,	2,	2,	1,	1,	1,	1,	2,	0,	0,	0,	0,	0,	0,	2,	0,	0,	0,	2,	0,	0,	0,	2,	0,	1,	1,
            1,	1,	0,	2,	0,	0,	2,	0,	2,	0,	0,	2,	0,	0,	0,	2,	1,	1,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	1,	1,	1,	2,	0,	0,	0,	0,	2,	0,	0,	2,	0,	2,	0,	0,	2,	0,	1,	1,
            1,	1,	0,	0,	2,	2,	0,	0,	0,	2,	2,	0,	0,	0,	2,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	2,	0,	0,	0,	0,	2,	2,	0,	0,	0,	2,	2,	0,	0,	1,	1,
            1,	1,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	2,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	2,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	1,	1,
            1,	1,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	1,	0,	0,	0,	1,	1,	1,	1,	0,	0,	0,	0,	1,	1,	1,	1,	0,	0,	0,	0,	1,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	1,	1,
            1,	1,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	1,	0,	0,	0,	1,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	1,	0,	0,	0,	0,	1,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	1,	1,
            1,	1,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	1,	0,	0,	0,	0,	1,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	1,	0,	0,	0,	0,	0,	1,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	1,	1,
            1,	1,	1,	1,	2,	2,	2,	2,	2,	1,	1,	1,	1,	0,	0,	0,	0,	1,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	1,	0,	0,	0,	0,	0,	1,	1,	1,	1,	1,	2,	2,	2,	2,	2,	1,	1,	1,	1,
            1,	1,	1,	1,	2,	2,	2,	2,	2,	1,	1,	1,	1,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	1,	1,	1,	1,	1,	2,	2,	2,	2,	2,	1,	1,	1,	1,
            1,	1,	1,	1,	2,	2,	2,	2,	2,	1,	1,	1,	1,	0,	0,	0,	0,	0,	0,	2,	2,	2,	2,	2,	2,	2,	2,	0,	0,	0,	0,	0,	0,	0,	1,	1,	1,	1,	1,	2,	2,	2,	2,	2,	1,	1,	1,	1,
            1,	1,	0,	0,	0,	0,	0,	0,	0,	0,	0,	2,	2,	0,	0,	0,	0,	0,	0,	2,	0,	0,	0,	0,	0,	0,	2,	0,	0,	0,	0,	0,	0,	0,	2,	2,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	1,	1,
            1,	1,	0,	0,	0,	0,	0,	0,	0,	0,	0,	2,	2,	0,	0,	0,	0,	0,	0,	2,	0,	0,	0,	0,	0,	0,	2,	0,	0,	0,	0,	0,	0,	0,	2,	2,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	1,	1,
            1,	1,	0,	0,	0,	0,	0,	0,	0,	0,	0,	2,	2,	0,	0,	0,	0,	0,	0,	2,	0,	0,	0,	0,	0,	0,	2,	0,	0,	0,	0,	0,	0,	0,	2,	2,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	1,	1,
            1,	1,	0,	0,	0,	0,	0,	0,	0,	0,	0,	2,	2,	0,	0,	0,	0,	0,	0,	2,	0,	0,	0,	0,	0,	0,	2,	0,	0,	0,	0,	0,	0,	0,	2,	2,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	1,	1,
            1,	1,	0,	0,	0,	0,	0,	0,	0,	0,	0,	2,	2,	0,	0,	0,	0,	0,	0,	2,	2,	2,	2,	2,	2,	2,	2,	0,	0,	0,	0,	0,	0,	0,	2,	2,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	1,	1,
            1,	1,	1,	1,	2,	2,	2,	2,	2,	1,	1,	1,	1,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	1,	1,	1,	1,	1,	2,	2,	2,	2,	2,	1,	1,	1,	1,
            1,	1,	1,	1,	2,	2,	2,	2,	2,	1,	1,	1,	1,	0,	0,	0,	0,	1,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	1,	0,	0,	0,	0,	0,	1,	1,	1,	1,	1,	2,	2,	2,	2,	2,	1,	1,	1,	1,
            1,	1,	1,	1,	2,	2,	2,	2,	2,	1,	1,	1,	1,	0,	0,	0,	0,	1,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	1,	0,	0,	0,	0,	0,	1,	1,	1,	1,	1,	2,	2,	2,	2,	2,	1,	1,	1,	1,
            1,	1,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	1,	0,	0,	0,	0,	1,	1,	1,	1,	0,	0,	0,	0,	1,	1,	1,	1,	0,	0,	0,	0,	0,	1,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	1,	1,
            1,	1,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	1,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	1,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	1,	1,
            1,	1,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	1,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	1,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	1,	1,
            1,	1,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	2,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	2,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	1,	1,
            1,	1,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	2,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	2,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	1,	1,
            1,	1,	0,	0,	0,	2,	2,	0,	0,	0,	2,	2,	0,	0,	0,	2,	1,	1,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	1,	1,	2,	0,	0,	0,	0,	2,	2,	0,	0,	0,	2,	2,	0,	0,	0,	1,	1,
            1,	1,	0,	0,	2,	0,	0,	2,	0,	2,	0,	0,	2,	0,	0,	0,	0,	2,	1,	1,	1,	0,	0,	0,	0,	0,	1,	1,	1,	2,	0,	0,	0,	0,	0,	2,	0,	0,	2,	0,	2,	0,	0,	2,	0,	0,	1,	1,
            1,	1,	0,	0,	2,	0,	0,	0,	2,	0,	0,	0,	2,	0,	0,	0,	0,	2,	0,	0,	0,	1,	2,	2,	2,	1,	0,	0,	0,	2,	0,	0,	0,	0,	0,	2,	0,	0,	0,	2,	0,	0,	0,	2,	0,	0,	1,	1,
            1,	1,	0,	0,	2,	0,	0,	0,	0,	0,	0,	0,	2,	0,	0,	0,	0,	2,	0,	0,	0,	1,	0,	0,	0,	1,	0,	0,	0,	2,	0,	0,	0,	0,	0,	2,	0,	0,	0,	0,	0,	0,	0,	2,	0,	0,	1,	1,
            1,	1,	0,	0,	0,	2,	0,	0,	0,	0,	0,	2,	0,	0,	0,	0,	0,	2,	0,	0,	0,	1,	0,	0,	0,	1,	0,	0,	0,	2,	0,	0,	0,	0,	0,	0,	2,	0,	0,	0,	0,	0,	2,	0,	0,	0,	1,	1,
            1,	1,	0,	0,	0,	0,	2,	0,	0,	0,	2,	0,	0,	0,	0,	0,	0,	2,	0,	0,	0,	2,	0,	0,	0,	2,	0,	0,	0,	2,	0,	0,	0,	0,	0,	0,	0,	2,	0,	0,	0,	2,	0,	0,	0,	0,	1,	1,
            1,	1,	0,	0,	0,	0,	0,	2,	0,	2,	0,	0,	0,	0,	0,	0,	0,	2,	0,	0,	0,	2,	0,	0,	0,	2,	0,	0,	0,	2,	0,	0,	0,	0,	0,	0,	0,	0,	2,	0,	2,	0,	0,	0,	0,	0,	1,	1,
            1,	1,	0,	0,	0,	0,	0,	0,	2,	0,	0,	0,	0,	0,	0,	0,	0,	2,	0,	0,	0,	2,	0,	0,	0,	2,	0,	0,	0,	2,	0,	0,	0,	0,	0,	0,	0,	0,	0,	2,	0,	0,	0,	0,	0,	0,	1,	1,
            1,	1,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	2,	0,	0,	0,	1,	0,	0,	0,	1,	0,	0,	0,	2,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	1,	1,
            1,	1,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	2,	0,	0,	0,	1,	0,	0,	0,	1,	0,	0,	0,	2,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	1,	1,
            1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,
            1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,
            1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,
            1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,
    };

    /**
     * Map reading Code referenced from the map loading video in iLearn
     *
     * 0 = empty Space
     * 1 = Unbreakable Wall
     * 2 = Breakable Wall
     */

    protected TankGameMap(){

        int row = 0;
        int map = 0;

        for (int i = 0; i < 48; i++) {

            for (int j = 0; j < 48; j++) {
                if (row == 48) {
                    row = 0;
                }
                int placeholder = new_map_array[map];
                if (placeholder != 0) {
                    if (placeholder == 2) {
                        blocks.add(new BreakableWall(j * 32, i * 32));
                    } else {
                        blocks.add(new UnbreakableWall(j * 32, i * 32));
                    }
                }
                row++;
                map++;
            }
        }

        /**
         *      Placing the powerups
         *
         *      These powerups were fun to implement,
         *      unfortunately, I couldn't get them to work for one tank a time,
         *      they worked on both
         *
         *      powerUps.add(new Firing(500, 400));
         *      powerUps.add(new FasterBullet(1100, 200));
         */

        powerUps.add(new ExtraLife(1280, 288));
        powerUps.add(new ExtraLife(224, 288));

        powerUps.add(new MoreDefense(736, 704));

        powerUps.add(new SpeedBoost(256, 1216));
        powerUps.add(new SpeedBoost(1248, 1216));
    }

    protected void handleCollision(CollisionObject CO) {
        for(int i = 0; i < blocks.size(); i++){
           CO.CollideCheck(blocks.get(i));
            blocks.get(i).CollideCheck(CO);
            
            if(blocks.get(i).impact()){
                blocks.remove(i);
            }
        }
        for(int i = 0; i < powerUps.size(); i++){
            powerUps.get(i).CollideCheck(CO);
            if(powerUps.get(i).impact()){
                powerUps.remove(i);
            }
        }
    }

    public void drawImage(Graphics g) {
        Graphics2D g2g = (Graphics2D) g;
        for (Wall wall : blocks) {
            wall.drawImage(g2g);
        }
        for (PowerUp powerUp : powerUps) {
            powerUp.drawImage(g2g);
        }
    }
}

